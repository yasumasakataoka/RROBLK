<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html xmlns:og="http://ogp.me/ns#"><head>


<meta http-equiv="Content-Type" content="text/html; charset=EUC-JP">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta http-equiv="Content-Script-Type" content="text/javascript">
<title>Rails3で簡単なログイン機能を使う - もし文系学生がプログラミングをはじめたら</title>
<link rel="start" href="http://d.hatena.ne.jp/" title="もし文系学生がプログラミングをはじめたら">
<link rel="help" href="http://d.hatena.ne.jp/help" title="ヘルプ">
<link rel="prev" href="http://d.hatena.ne.jp/koyonote/20110421/1303397681" title="Rails3でhas_many :throughを使...">
<link rel="next" href="http://d.hatena.ne.jp/koyonote/20110425/1303742789" title="Rails3で簡単な検索機能を使う">

<link rel="stylesheet" href="login_sample_source_files/base.css" type="text/css" media="all">
<link rel="stylesheet" href="login_sample_source_files/headerstyle_dg.css" type="text/css" media="all">
<link rel="stylesheet" href="login_sample_source_files/breeze.css" type="text/css" media="all">


<link rel="alternate" type="application/rss+xml" title="RSS" href="http://d.hatena.ne.jp/koyonote/rss">
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://d.hatena.ne.jp/koyonote/rss2">

<link rel="meta" type="application/rdf+xml" title="FOAF" href="http://d.hatena.ne.jp/koyonote/foaf">
<link rel="search" type="application/opensearchdescription+xml" href="http://d.hatena.ne.jp/koyonote/opensearch/diary.xml" title="もし文系学生がプログラミングをはじめたら内日記検索">
<link rel="search" type="application/opensearchdescription+xml" href="http://d.hatena.ne.jp/koyonote/opensearch/archive.xml" title="もし文系学生がプログラミングをはじめたら内一覧検索">


<link rel="shortcut icon" href="http://d.hatena.ne.jp/images/diary/koyonote/favicon.ico">



<style type="text/css">
<!-- 

-->
</style>




<meta property="og:type" content="article">
<meta property="og:title" content="Rails3で簡単なログイン機能を使う - もし文系学生がプログラミングをはじめたら">
<meta property="og:image" content="http://cdn-ak.f.st-hatena.com/images/fotolife/k/koyonote/20110422/20110422203006.png">
<meta property="og:url" content="http://d.hatena.ne.jp/koyonote/20110422/1303474235">
<meta property="og:description" content="Railsアプリケーションに簡単なログイン機能と、管理者権限によるフィルタリング機能を実装してみます。 パ..">
<meta property="og:site_name" content="はてなダイアリー">


<!--
<rdf:RDF
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:foaf="http://xmlns.com/foaf/0.1/">
<rdf:Description rdf:about="http://d.hatena.ne.jp/koyonote/20110422/1303474235">
   <foaf:maker rdf:parseType="Resource">
     <foaf:holdsAccount>
       <foaf:OnlineAccount foaf:accountName="koyonote">
         <foaf:accountServiceHomepage rdf:resource="http://www.hatena.ne.jp/" />
       </foaf:OnlineAccount>
     </foaf:holdsAccount>
   </foaf:maker>
</rdf:Description>
</rdf:RDF>
-->

<link rel="alternate" media="handheld" type="text/html" href="http://d.hatena.ne.jp/koyonote/mobile?date=20110422&amp;section=1303474235">
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
<rdf:Description
  rdf:about="http://d.hatena.ne.jp/koyonote/20110422/1303474235"
  trackback:ping="http://d.hatena.ne.jp/koyonote/20110422/1303474235"
  dc:title="Rails3で簡単なログイン機能を使う"
  dc:identifier="http://d.hatena.ne.jp/koyonote/20110422/1303474235" />
</rdf:RDF>
-->






<script src="login_sample_source_files/ga.js" async="" type="text/javascript"></script><script type="text/javascript" src="login_sample_source_files/HatenaStar.js"></script>
<script type="text/javascript">
Hatena.Star.SiteConfig = {
  entryNodes: {
    'div.section': {
      uri: 'h3 a',
      title: 'h3',
      container: 'h3'
    }
  }
};
Hatena.Author  = new Hatena.User('koyonote');
Hatena.DiaryName  = new Hatena.User('koyonote');

</script>



<script type="text/javascript" src="login_sample_source_files/twitter_entry_icon.js"></script>



<script type="text/javascript" src="login_sample_source_files/adcolor.js"></script>


<script type="text/javascript" src="login_sample_source_files/quick_pager.js"></script>
<script type="text/javascript" src="login_sample_source_files/diary_utils.js"></script>
<script type="text/javascript" src="login_sample_source_files/max_width_fotolife.js"></script>












<script type="text/javascript" src="login_sample_source_files/jquery-1.js"></script>
<script type="text/javascript">
  jQuery.noConflict()(function($){
    var j$ = jQuery;
  });
</script>




<link type="text/css" rel="stylesheet" href="login_sample_source_files/widget.css"><style type="text/css">#twtr-widget-1 .twtr-popular { display: inline-block; }</style><style type="text/css">#twtr-widget-1 .twtr-avatar, #twtr-widget-1 .twtr-user { display: none; } #twtr-widget-1 .twtr-tweet-text { margin-left: 0; }</style><style type="text/css">#twtr-widget-1 em { display: block; }</style><style type="text/css">#twtr-widget-1 .twtr-doc, 
                     #twtr-widget-1 .twtr-hd a, 
                     #twtr-widget-1 h3, 
                     #twtr-widget-1 h4, 
                     #twtr-widget-1 .twtr-popular {
            background-color: #333333 !important;
            color: #ffffff !important;
          }
          #twtr-widget-1 .twtr-popular {
            color: #ffffff !important;
            background-color: rgba(51,51,51, .3) !important;
          }
          #twtr-widget-1 .twtr-tweet a {
            color: #4aed05 !important;
          }
          #twtr-widget-1 .twtr-bd, #twtr-widget-1 .twtr-timeline i a, 
          #twtr-widget-1 .twtr-bd p {
            color: #ffffff !important;
          }
          #twtr-widget-1 .twtr-new-results, 
          #twtr-widget-1 .twtr-results-inner, 
          #twtr-widget-1 .twtr-timeline {
            background: #000000 !important;
          }</style><script type="text/javascript" src="login_sample_source_files/entries.json"></script></head><body>

<div id="simple-header">

  <a href="http://www.hatena.ne.jp/"><img src="login_sample_source_files/hatena-simple_dg.gif" alt="Hatena::" title="Hatena::" id="logo-hatena" width="65" height="17"></a><a href="http://d.hatena.ne.jp/"><img src="login_sample_source_files/diary-simple_dg.gif" alt="ブログ(Diary)" title="Diary" id="logo-diary" width="43" height="17"></a>
  <form method="get" action="/search" class="search-form">
    <input class="search-word" name="word" value="rails3 session get" type="text"><input name="name" value="koyonote" type="hidden"><input name="diary" value="日記" class="search-button" type="submit"><input name="submit" value="検索" class="search-button" type="submit">
  </form>
  <ul class="menu">
    <li><a href="http://d.hatena.ne.jp/koyonote/">ブログトップ</a></li>
    <li><a href="http://d.hatena.ne.jp/koyonote/archive">記事一覧</a></li>



    <li><a href="https://www.hatena.ne.jp/login?backurl=http%3A%2F%2Fd.hatena.ne.jp%2Fkoyonote%2F20110422%2F1303474235&amp;add_timestamp=1">ログイン</a></li>
    <li><a href="https://www.hatena.ne.jp/register?location=http://d.hatena.ne.jp/">無料ブログ開設</a></li>

  </ul>
</div>



<h1><a href="http://d.hatena.ne.jp/koyonote/">もし文系学生がプログラミングをはじめたら</a> <a id="twitter-header-icon" href="http://twitter.com/koyonote"><img src="login_sample_source_files/icon-twitter.png" alt="Twitter" title="このページ作者のTwitterへ" class="icon" border="0" width="16" height="16"></a></h1>
<div class="hatena-body">
<div class="main">








<div class="calendar" id="pager-top">
  <a rel="prev" href="http://d.hatena.ne.jp/koyonote/20110421/1303397681" class="prev">&lt;Rails3でhas_many :throughを使...</a>&nbsp;<span class="delimiter">|</span>&nbsp;<a rel="next" href="http://d.hatena.ne.jp/koyonote/20110425/1303742789" class="next">Rails3で簡単な検索機能を使う&gt;</a><span id="edit-in-place-add"></span>
</div>
<div id="days">

<div class="day day-br">
<h2><a href="http://d.hatena.ne.jp/koyonote/20110422"><span class="date">2011-04-22</span></a></h2>

<div class="body">

<!-- google_ad_section_start -->

		<div class="section">
			<h3 class="title"><a href="http://d.hatena.ne.jp/koyonote/20110422/1303474235" name="1303474235"><span class="highlight">Rails3</span>で簡単なログイン機能を使う</a><span class="hatena-star-comment-container"><img class="hatena-star-comment-button" style="cursor: pointer; margin: 0pt; padding: 0pt; border: medium none; vertical-align: middle; display: none;" title="Comments" alt="Comments" tabindex="0" src="login_sample_source_files/comment_dg.gif"></span><span class="hatena-star-star-container"><img class="hatena-star-add-button" style="cursor: pointer; margin: 0pt 3px; padding: 0pt; border: medium none; vertical-align: middle;" title="Add Star" alt="Add Star" tabindex="0" src="login_sample_source_files/add_dg.gif"></span></h3>
			<p class="sectionheader"></p>
<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/Rails">Rails</a><a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%A2%A5%D7%A5%EA%A5%B1%A1%BC%A5%B7%A5%E7%A5%F3">アプリケーション</a>に簡単な<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%ED%A5%B0%A5%A4%A5%F3">ログイン</a>機能と、管理者権限による<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D5%A5%A3%A5%EB%A5%BF%A5%EA%A5%F3%A5%B0">フィルタリング</a>機能を実装してみます。<br><a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D1%A5%B9%A5%EF%A1%BC%A5%C9">パスワード</a>の<a class="keyword" href="http://d.hatena.ne.jp/keyword/%B0%C5%B9%E6">暗号</a>化などは行っていないので実用的ではないと思いますが、一応覚え書きということでメモしておきます。<br><br>まずはUserの<a class="keyword" href="http://d.hatena.ne.jp/keyword/Scaffold">Scaffold</a>と、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%ED%A5%B0%A5%A4%A5%F3">ログイン</a>フォームを生成する際に使用する<span class="highlight">Session</span>sのControllerをつくります。</p>
<pre class="syntax-highlight">$ rails new sample_c
$ cd sample_c/
$ rails s
$ rails g scaffold user name<span class="synIdentifier">:string</span> password<span class="synIdentifier">:string</span> admin<span class="synIdentifier">:boolean</span>
$ rails g controller <span class="highlight">session</span>s new create destroy
$ rake db<span class="synIdentifier">:migrate</span>
</pre>

<p>Userの「_form.<a class="keyword" href="http://d.hatena.ne.jp/keyword/html">html</a>.erb」を編集します。テキストフィールドを<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D1%A5%B9%A5%EF%A1%BC%A5%C9">パスワード</a>フィールドに変え、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%E9%A5%B8%A5%AA%A5%DC%A5%BF%A5%F3">ラジオボタン</a>で管理者権限を与えるかを選択できるようにします。</p>
<pre class="syntax-highlight">&lt;div class=<span class="synSpecial">"</span><span class="synConstant">field</span><span class="synSpecial">"</span>&gt;
  &lt;%= f.label <span class="synIdentifier">:name</span> %&gt;&lt;br /&gt;
  &lt;%= f.text_field <span class="synIdentifier">:name</span> %&gt;
&lt;/div&gt;
&lt;div class=<span class="synSpecial">"</span><span class="synConstant">field</span><span class="synSpecial">"</span>&gt;
  &lt;%= f.label <span class="synIdentifier">:password</span> %&gt;&lt;br /&gt;
  &lt;%= f.password_field <span class="synIdentifier">:password</span> %&gt;
&lt;/div&gt;
&lt;div class=<span class="synSpecial">"</span><span class="synConstant">field</span><span class="synSpecial">"</span>&gt;
  &lt;%= f.label <span class="synIdentifier">:admin</span> %&gt;&lt;br /&gt;
  &lt;%= radio_button_tag <span class="synSpecial">"</span><span class="synConstant">user[admin]</span><span class="synSpecial">"</span>, <span class="synConstant">true</span>, <span class="synIdentifier">@user</span>.admin? %&gt;<span class="synIdentifier">Yes</span>
  &lt;%= radio_button_tag <span class="synSpecial">"</span><span class="synConstant">user[admin]</span><span class="synSpecial">"</span>, <span class="synConstant">false</span>, !<span class="synIdentifier">@user</span>.admin %&gt;<span class="synIdentifier">No</span>
&lt;/div&gt;
</pre>
<br>
<p><a href="http://f.hatena.ne.jp/koyonote/20110422203006" class="hatena-fotolife" target="_blank"><img src="login_sample_source_files/20110422203006.png" alt="f:id:koyonote:20110422203006p:image" title="f:id:koyonote:20110422203006p:image" class="hatena-fotolife"></a><br><br><span class="highlight">Session</span>sコントローラーの「new.<a class="keyword" href="http://d.hatena.ne.jp/keyword/html">html</a>.erb」を編集して、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%ED%A5%B0%A5%A4%A5%F3">ログイン</a>フォームを作ります。</p>
<pre class="syntax-highlight">&lt;h1&gt;<span class="synIdentifier">Login</span>&lt;/h1&gt;
&lt;div&gt;
  &lt;% <span class="synStatement">if</span> flash[<span class="synIdentifier">:notice</span>] %&gt;
    &lt;p id=<span class="synSpecial">"</span><span class="synConstant">notice</span><span class="synSpecial">"</span>&gt;&lt;%= flash[<span class="synIdentifier">:notice</span>] %&gt;&lt;/p&gt;
  &lt;% <span class="synStatement">end</span> %&gt;
  &lt;%= form_tag <span class="synStatement">do</span> %&gt;
    &lt;fieldset&gt;
      &lt;legend&gt;<span class="synIdentifier">Log</span> <span class="synIdentifier">In</span> <span class="synIdentifier">Here</span>&lt;/legend&gt;
      &lt;div&gt;
        &lt;label <span class="synStatement">for</span>=<span class="synSpecial">"</span><span class="synConstant">name</span><span class="synSpecial">"</span>&gt;<span class="synIdentifier">Name</span>&lt;/label&gt;
        &lt;%= text_field_tag <span class="synIdentifier">:name</span>, params[<span class="synIdentifier">:name</span>] %&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;label <span class="synStatement">for</span>=<span class="synSpecial">"</span><span class="synConstant">password</span><span class="synSpecial">"</span>&gt;<span class="synIdentifier">Password</span>&lt;/label&gt;
        &lt;%= password_field_tag <span class="synIdentifier">:password</span>, params[<span class="synIdentifier">:password</span>] %&gt;
      &lt;/div&gt;
      &lt;div&gt;
        &lt;%= submit_tag <span class="synSpecial">"</span><span class="synConstant">Login</span><span class="synSpecial">"</span> %&gt;
      &lt;/div&gt;
    &lt;/fieldset&gt;
  &lt;% <span class="synStatement">end</span> %&gt;
&lt;/div&gt;
</pre>

<p>「config/<a class="keyword" href="http://d.hatena.ne.jp/keyword/routes">routes</a>.rb」を編集して<a class="keyword" href="http://d.hatena.ne.jp/keyword/URL">URL</a>を変更します。</p>
<pre class="syntax-highlight">controller <span class="synIdentifier">:<span class="highlight">session</span>s</span> <span class="synStatement">do</span>
  <span class="highlight">get</span> <span class="synSpecial">'</span><span class="synConstant">login</span><span class="synSpecial">'</span> =&gt; <span class="synIdentifier">:new</span>
  post <span class="synSpecial">'</span><span class="synConstant">login</span><span class="synSpecial">'</span> =&gt; <span class="synIdentifier">:create</span>
  delete <span class="synSpecial">'</span><span class="synConstant">logout</span><span class="synSpecial">'</span> =&gt; <span class="synIdentifier">:destroy</span>
<span class="synStatement">end</span>
</pre>

<p><a href="http://f.hatena.ne.jp/koyonote/20110422203008" class="hatena-fotolife" target="_blank"><img src="login_sample_source_files/20110422203008.png" alt="f:id:koyonote:20110422203008p:image" title="f:id:koyonote:20110422203008p:image" class="hatena-fotolife"></a><br>続いて<span class="highlight">Session</span>sのControllerを編集します。Userが<a class="keyword" href="http://d.hatena.ne.jp/keyword/DB">DB</a>に存在し、<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%D1%A5%B9%A5%EF%A1%BC%A5%C9">パスワード</a>が一致した場合のみ<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%ED%A5%B0%A5%A4%A5%F3">ログイン</a>させます。</p>
<pre class="syntax-highlight"><span class="synPreProc">class </span><span class="synType"><span class="highlight">Session</span>sController</span> &lt; <span class="synIdentifier">ApplicationController</span>
  <span class="synPreProc">def </span><span class="synIdentifier">new</span>
  <span class="synPreProc">end</span>

  <span class="synPreProc">def </span><span class="synIdentifier">create</span>
    <span class="synStatement">if</span> user = <span class="synIdentifier">User</span>.find_by_name(params[<span class="synIdentifier">:name</span>])
      <span class="synStatement">if</span> user.password == params[<span class="synIdentifier">:password</span>]
        <span class="highlight">session</span>[<span class="synIdentifier">:user_id</span>] = user.id
        redirect_to users_url
      <span class="synStatement">end</span>
    <span class="synStatement">else</span>
      redirect_to login_url, <span class="synIdentifier">:notice</span> =&gt; <span class="synSpecial">"</span><span class="synConstant">Invalid!</span><span class="synSpecial">"</span>
    <span class="synStatement">end</span>
  <span class="synPreProc">end</span>

  <span class="synPreProc">def </span><span class="synIdentifier">destroy</span>
    <span class="highlight">session</span>[<span class="synIdentifier">:user_id</span>] = <span class="synConstant">nil</span>
    redirect_to login_url, <span class="synIdentifier">:notice</span> =&gt; <span class="synSpecial">"</span><span class="synConstant">Logged out!</span><span class="synSpecial">"</span>
  <span class="synPreProc">end</span>

<span class="synPreProc">end</span>
</pre>

<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%EC%A5%A4%A5%A2%A5%A6%A5%C8">レイアウト</a>にログアウトボタンを加えます。<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%BB%A5%C3%A5%B7%A5%E7%A5%F3">セッション</a>にデータが入っているかどうかで判別します。</p>
<pre class="syntax-highlight">&lt;body&gt;
&lt;% <span class="synStatement">if</span> <span class="highlight">session</span>[<span class="synIdentifier">:user_id</span>] %&gt;
&lt;p&gt;<span class="synIdentifier">Hello</span>, &lt;%= <span class="synIdentifier">User</span>.find(<span class="highlight">session</span>[<span class="synIdentifier">:user_id</span>]).name %&gt;&lt;/p&gt;
&lt;%= button_to <span class="synSpecial">'</span><span class="synConstant">Logout</span><span class="synSpecial">'</span>, logout_url, <span class="synIdentifier">:method</span> =&gt; <span class="synIdentifier">:delete</span> %&gt;
&lt;% <span class="synStatement">end</span> %&gt;
&lt;%= <span class="synStatement">yield</span> %&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>

<p><a href="http://f.hatena.ne.jp/koyonote/20110422203010" class="hatena-fotolife" target="_blank"><img src="login_sample_source_files/20110422203010.png" alt="f:id:koyonote:20110422203010p:image" title="f:id:koyonote:20110422203010p:image" class="hatena-fotolife"></a><br>管理者権限のあるユーザーだけに編集・削除・作成のリンクを表示できるようなメソッドを定義します。</p>
<pre class="syntax-highlight"><span class="synPreProc">class </span><span class="synType">ApplicationController</span> &lt; <span class="synIdentifier">ActionController</span>::<span class="synIdentifier">Base</span>
  protect_from_forgery

  helper_method <span class="synIdentifier">:admin?</span>

  <span class="synStatement">protected</span>
 
  <span class="synPreProc">def </span><span class="synIdentifier">admin?</span>
    <span class="synStatement">if</span> <span class="highlight">session</span>[<span class="synIdentifier">:user_id</span>]
      user = <span class="synIdentifier">User</span>.find(<span class="highlight">session</span>[<span class="synIdentifier">:user_id</span>])
      user.admin?
    <span class="synStatement">end</span>
  <span class="synPreProc">end</span>
<span class="synPreProc">end</span>
</pre>

<p>Userの「index.<a class="keyword" href="http://d.hatena.ne.jp/keyword/html">html</a>.erb」を編集して上で定義したメソッド「admin?」を使用します。</p>
<pre class="syntax-highlight">&lt;% <span class="synIdentifier">@users</span>.each <span class="synStatement">do</span> |<span class="synIdentifier">user</span>| %&gt;
  &lt;tr&gt;
    &lt;td&gt;&lt;%= user.name %&gt;&lt;/td&gt;
    &lt;td&gt;&lt;%= user.password %&gt;&lt;/td&gt;
    &lt;td&gt;&lt;%= user.admin %&gt;&lt;/td&gt;
    &lt;td&gt;&lt;%= link_to <span class="synSpecial">'</span><span class="synConstant">Show</span><span class="synSpecial">'</span>, user %&gt;&lt;/td&gt;
    &lt;% <span class="synStatement">if</span> admin? %&gt;
    &lt;td&gt;&lt;%= link_to <span class="synSpecial">'</span><span class="synConstant">Edit</span><span class="synSpecial">'</span>, edit_user_path(user) %&gt;&lt;/td&gt;
    &lt;td&gt;&lt;%= link_to <span class="synSpecial">'</span><span class="synConstant">Destroy</span><span class="synSpecial">'</span>, user, <span class="synIdentifier">:confirm</span> =&gt; <span class="synSpecial">'</span><span class="synConstant">Are you sure?</span><span class="synSpecial">'</span>, <span class="synIdentifier">:method</span> =&gt; <span class="synIdentifier">:delete</span> %&gt;&lt;/td&gt;
    &lt;% <span class="synStatement">end</span> %&gt;
  &lt;/tr&gt;
&lt;% <span class="synStatement">end</span> %&gt;
&lt;/table&gt;
&lt;br /&gt;
&lt;% <span class="synStatement">if</span> admin? %&gt;
&lt;%= link_to <span class="synSpecial">'</span><span class="synConstant">New User</span><span class="synSpecial">'</span>, new_user_path %&gt;
&lt;% <span class="synStatement">end</span> %&gt;                                                                                           
</pre>

<p><a href="http://f.hatena.ne.jp/koyonote/20110422203012" class="hatena-fotolife" target="_blank"><img src="login_sample_source_files/20110422203012.png" alt="f:id:koyonote:20110422203012p:image" title="f:id:koyonote:20110422203012p:image" class="hatena-fotolife"></a><br>管理者権限のないユーザー「<a class="keyword" href="http://d.hatena.ne.jp/keyword/jiro">jiro</a>」で<a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%ED%A5%B0%A5%A4%A5%F3">ログイン</a>した場合はリンクが表示されません。<br>ただ、このままだと「http://localhost:3000/users/new」のような<a class="keyword" href="http://d.hatena.ne.jp/keyword/URL">URL</a>でアクセスされると丸見えの状態なので「before_filter」を使ってアクセスを制限します。</p>
<pre class="syntax-highlight"><span class="synPreProc">class </span><span class="synType">ApplicationController</span> &lt; <span class="synIdentifier">ActionController</span>::<span class="synIdentifier">Base</span>
  protect_from_forgery

  helper_method <span class="synIdentifier">:admin?</span>

  <span class="synStatement">protected</span>

  <span class="synPreProc">def </span><span class="synIdentifier">admin?</span>
    <span class="synStatement">if</span> <span class="highlight">session</span>[<span class="synIdentifier">:user_id</span>]
      user = <span class="synIdentifier">User</span>.find(<span class="highlight">session</span>[<span class="synIdentifier">:user_id</span>])
      user.admin?
    <span class="synStatement">end</span>
  <span class="synPreProc">end</span>

  <span class="synPreProc">def </span><span class="synIdentifier">authorize</span>
    <span class="synStatement">unless</span> admin?
      redirect_to login_url
    <span class="synStatement">end</span>
  <span class="synPreProc">end</span>
<span class="synPreProc">end</span>
</pre>

<p>UserのControllerには以下を記述します。</p>
<pre class="syntax-highlight"><span class="synPreProc">class </span><span class="synType">UsersController</span> &lt; <span class="synIdentifier">ApplicationController</span>
  before_filter <span class="synIdentifier">:authorize</span>
</pre>

<p><a class="keyword" href="http://d.hatena.ne.jp/keyword/%A5%A2%A5%AB%A5%A6%A5%F3%A5%C8">アカウント</a>を持っていないユーザーのアクセスを制限できるようになりました。<br>これでひと通り終わりですが、問題点もたくさんありそうなのでご指摘いただけると幸いです。</p>
			<h4>参考リンク</h4>
<p><a href="http://asciicasts.com/episodes/20-restricting-access" target="_blank">ASCIIcasts - “Episode 20 - Restricting Access”</a></p>
			<p class="share-button sectionfooter"><a data-hatena-bookmark-initialized="1" href="http://b.hatena.ne.jp/entry/http://d.hatena.ne.jp/koyonote/20110422/1303474235" class="hatena-bookmark-button" data-hatena-bookmark-title="Rails3で簡単なログイン機能を使う" data-hatena-bookmark-layout="simple" title="このエントリーをはてなブックマークに追加"><img src="login_sample_source_files/button-only.gif" alt="このエントリーをはてなブックマークに追加" style="border: medium none;" width="20" height="20"></a><script type="text/javascript" src="login_sample_source_files/bookmark_button.js" charset="utf-8" async="async"></script><iframe title="WEBサイト向けTwitter: ツイートボタン" style="width: 80px; height: 20px;" src="login_sample_source_files/tweet_button.htm" allowtransparency="true" tabindex="0" class="twitter-share-button twitter-count-none" frameborder="0" scrolling="no"></iframe><script type="text/javascript" src="login_sample_source_files/widgets.js" charset="utf-8"></script><iframe src="login_sample_source_files/like.htm" style="border: medium none; overflow: hidden; width: 100px; height: 21px;" allowtransparency="true" frameborder="0" scrolling="no"></iframe></p>

			<p class="sectionfooter"><a href="http://d.hatena.ne.jp/koyonote/20110422/1303474235">Permalink</a> | <a href="http://d.hatena.ne.jp/koyonote/20110422/1303474235#c">コメント(0)</a> | <a href="http://d.hatena.ne.jp/koyonote/20110422/1303474235#tb">トラックバック(1)</a> | 21:10</p>

		</div>

<!-- google_ad_section_end -->

</div>

<form id="comment-form" method="post" action="/koyonote/comment#c" class="comment">
<input name="mode" value="enter" type="hidden">
<input name="rkm" value="" type="hidden">
<input name="date" value="2011-04-22" type="hidden">
<div class="comment">
  <div class="caption"><a name="c">コメントを書く</a></div>
  <div class="commentshort">
    
    

    <a name="error-message"></a>
    <p class="message" style="display: none; padding: 3px;"></p>

    

    
            
        
          <p class="commentmessage">投稿したコメントは管理者が承認するまで公開されません。</p>
        
      
    <p class="commentform">
      <span class="commentator">
        <span class="usermailconfirm"><input name="usermail" size="1"><input name="userurl" size="1">スパム対策のためのダミーです。もし見えても何も入力しないでください<br></span>
        <span class="username">
        <img src="login_sample_source_files/guest_icon.gif" class="hatena-id-icon" alt="ゲスト" title="ゲスト" width="16" height="16">
        <input name="section" value="1303474235" type="hidden">
        
          <input value="なまえ" style="color: rgb(170, 170, 170);" id="comment-username" name="username" size="15">
        
        </span>
        
          <span class="usermail"><img src="login_sample_source_files/icon-usermail.gif" style="vertical-align: middle; margin-right: 3px;"><input style="color: rgb(170, 170, 170);" id="comment-usermail" name="useremail" size="15" value="メール(非公開)"></span>
          <span class="userurl"><img src="login_sample_source_files/icon-userurl.gif" style="vertical-align: middle; margin-right: 3px;"><input style="color: rgb(170, 170, 170);" id="comment-userurl" name="useruri" size="15" value="URL"></span>
        
      </span>
<br>
      <!-- NOT_VERIFIED_COMMENT_AUTH -->
      <textarea style="color: rgb(170, 170, 170);" id="comment-textarea" name="body" value="" cols="60" rows="3"></textarea><br>
      
          </p><div class="captcha">
            <img src="login_sample_source_files/captcha.gif" class="captcha-image">
            <span class="captcha-message">画像認証</span><br>
            <input value="画像内の文字列を入力して下さい" style="color: rgb(170, 170, 170);" name="captcha_code" size="10" class="captcha-string" id="comment-captcha" type="text">
          </div>
      
      <span class="comment-submit"><input id="comment-form-button" value="投稿" type="submit"></span>
    <p></p>

      <script type="text/javascript" src="login_sample_source_files/diary_comment_edit_form.js"></script>
    

  </div>
</div>

</form>





  
  <div class="refererlist">
    <div class="caption">
      <a name="tb">トラックバック</a> - http://d.hatena.ne.jp/koyonote/20110422/1303474235
    </div>
    
      
      <ul>
        
          <li>
            <a href="http://d.hatena.ne.jp/shinriyo/20110425" title=" ■Rails3で資格試験勉強システムを作る ログイン機能 http://d.hatena.ne.jp/koyonote/20110422/1303474235 " rel="nofollow">万年素人からGeekへの道</a></li>
        
      </ul>
    
  </div>
  
  





    <div class="refererlist">
      <div class="caption">リンク元</div>
      <ul>
          <li>3 <a href="http://reader.livedoor.com/reader/" rel="nofollow">http://reader.livedoor.com/reader/</a></li>
          <li>3 <a href="http://twitter.com/" rel="nofollow">http://twitter.com/</a></li>
          <li>2 <a href="http://search.yahoo.co.jp/search?p=ruby+1.8+ubuntu&amp;aq=-1&amp;oq=&amp;ei=UTF-8&amp;fr=top_ga1_sa&amp;x=wrt" rel="nofollow">http://search.yahoo.co.jp/search?p=ruby+1.8+ubuntu&amp;aq=-1&amp;oq=&amp;ei=UTF-8&amp;fr=top_ga1_sa&amp;x=wrt</a></li>
          <li>2 <a href="http://www.google.co.jp/search?hl=ja&amp;safe=off&amp;client=safari&amp;rls=en&amp;q=%2Fusr%2Flocal%2Fbin%2F%E3%80%8010.6&amp;aq=f&amp;aqi=&amp;aql=&amp;oq=" rel="nofollow">http://www.google.co.jp/search?hl=ja&amp;safe=off&amp;client=safari&amp;rls=en&amp;q=/usr/local/bin/
　10.6&amp;aq=f&amp;aqi=&amp;aql=&amp;oq=</a></li>
          <li>2 <a href="http://www.google.co.jp/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CC0QFjAA&amp;url=http%3A%2F%2Fd.hatena.ne.jp%2Fkoyonote%2F20110327%2F1301206749&amp;rct=j&amp;q=mac%20ruby%20on%20rails%20%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB&amp;tbs=qdr%3Am&amp;ei=isazTZSXAY-evgOA1NGMB" rel="nofollow">http://www.google.co.jp/url?sa=t&amp;source=web&amp;cd=1&amp;ved=0CC0QFjAA&amp;url=http://d.hatena.ne.jp/koyonote/20110327/1301206749&amp;rct=j&amp;q=mac
 ruby on rails インストール&amp;tbs=qdr:m&amp;ei=isazTZSXAY-evgOA1NGMB</a></li>
          <li>2 <a href="http://www.wikiwix.com/" rel="nofollow">http://www.wikiwix.com/</a></li>
          <li>1 <a href="http://blog-hyoban.goo.ne.jp/analyze/Google%C6%FC%CB%DC%B8%EC%C6%FE%CE%CF/" rel="nofollow">http://blog-hyoban.goo.ne.jp/analyze/Google日本語入力/</a></li>
          <li>1 <a href="http://d.hatena.ne.jp/deeeki/20100606/serversman_apache_setting" rel="nofollow">http://d.hatena.ne.jp/deeeki/20100606/serversman_apache_setting</a></li>
          <li>1 <a href="http://d.hatena.ne.jp/keyword/%A4%B3%A4%C8%A4%A8%A4%EA" rel="nofollow">http://d.hatena.ne.jp/keyword/ことえり</a></li>
          <li>1 <a href="http://d.hatena.ne.jp/notify-NotifyUser_Communication?aHR0cDovL2QuaGF0ZW5hLm5lLmpwL2tveW9ub3RlLzIwMTEwNDIyLzEzMDM0NzQyMzU=" rel="nofollow">http://d.hatena.ne.jp/notify-NotifyUser_Communication?aHR0cDovL2QuaGF0ZW5hLm5lLmpwL2tveW9ub3RlLzIwMTEwNDIyLzEzMDM0NzQyMzU=</a></li>
      </ul>
      
    </div>




</div>



</div>
<div class="calendar" id="pager-bottom">
  <a rel="prev" href="http://d.hatena.ne.jp/koyonote/20110421/1303397681" class="prev">&lt;Rails3でhas_many :throughを使...</a><img src="login_sample_source_files/icon-quickpager.gif" style="vertical-align: middle; margin-left: 3px; cursor: pointer;">&nbsp;<span class="delimiter">|</span>&nbsp;<a rel="next" href="http://d.hatena.ne.jp/koyonote/20110425/1303742789" class="next">Rails3で簡単な検索機能を使う&gt;</a>
</div>
</div>
<div class="sidebar">
	<div class="hatena-module hatena-module-profile">
  <div class="hatena-moduletitle">プロフィール</div>
  <div class="hatena-modulebody">
    <div class="hatena-profile">
      <p class="hatena-profile-image"><a href="http://d.hatena.ne.jp/koyonote/about"><img src="login_sample_source_files/profile.gif" alt="koyonote"></a></p>
      <p class="hatena-profile-id"><a href="http://d.hatena.ne.jp/koyonote/about">koyonote</a></p>
      <p class="hatena-profile-body">大学生。エンジニア見習い中</p>
    </div>
  </div>
</div>

	<div class="hatena-module hatena-module-calendar2">
<div class="hatena-moduletitle">カレンダー</div>
<div class="hatena-modulebody">
<table class="calendar" summary="calendar">
<tbody><tr>
<td class="calendar-prev-month" colspan="2"><a href="http://d.hatena.ne.jp/koyonote/201103" title="201103" rel="nofollow">&lt;&lt;</a></td>
<td class="calendar-current-month" colspan="3"><a href="http://d.hatena.ne.jp/koyonote/archive/201104" rel="nofollow">2011/04</a></td>
<td class="calendar-next-month" colspan="2"><a href="http://d.hatena.ne.jp/koyonote/201105" title="201105" rel="nofollow">&gt;&gt;</a></td>
</tr>
<tr>
<td class="calendar-sunday">日</td>
<td class="calendar-weekday">月</td>
<td class="calendar-weekday">火</td>
<td class="calendar-weekday">水</td>
<td class="calendar-weekday">木</td>
<td class="calendar-weekday">金</td>
<td class="calendar-saturday">土</td>
</tr>
	<tr>
		<td class="calendar-day"></td>
		<td class="calendar-day"></td>
		<td class="calendar-day"></td>
		<td class="calendar-day"></td>
		<td class="calendar-day"></td>
		<td class="calendar-day">1</td>
		<td class="calendar-day">2</td>
	</tr>
	<tr>
		<td class="calendar-day">3</td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110404" title="4">4</a></td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110405" title="5">5</a></td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110406" title="6">6</a></td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110407" title="7">7</a></td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110408" title="8">8</a></td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110409" title="9">9</a></td>
	</tr>
	<tr>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110410" title="10">10</a></td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110411" title="11">11</a></td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110412" title="12">12</a></td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110413" title="13">13</a></td>
		<td class="calendar-day">14</td>
		<td class="calendar-day">15</td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110416" title="16">16</a></td>
	</tr>
	<tr>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110417" title="17">17</a></td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110418" title="18">18</a></td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110419" title="19">19</a></td>
		<td class="calendar-day">20</td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110421" title="21">21</a></td>
		<td class="calendar-day day-selected"><a href="http://d.hatena.ne.jp/koyonote/20110422" title="22">22</a></td>
		<td class="calendar-day">23</td>
	</tr>
	<tr>
		<td class="calendar-day">24</td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110425" title="25">25</a></td>
		<td class="calendar-day">26</td>
		<td class="calendar-day"><a href="http://d.hatena.ne.jp/koyonote/20110427" title="27">27</a></td>
		<td class="calendar-day">28</td>
		<td class="calendar-day">29</td>
		<td class="calendar-day">30</td>
	</tr>
</tbody></table>
	</div>
</div>

	<div class="hatena-module hatena-module-section">
<div class="hatena-moduletitle"><a href="http://d.hatena.ne.jp/koyonote/archive">最新タイトル</a></div>
<div class="hatena-modulebody">
<ul class="hatena-section">
<li><a href="http://d.hatena.ne.jp/koyonote/20110504/1304435193">Scientific Linuxの環境構築まとめ - レビュー編</a></li>
<li><a href="http://d.hatena.ne.jp/koyonote/20110503/1304348573">Scientific Linuxの環境構築まとめ - Part2</a></li>
<li><a href="http://d.hatena.ne.jp/koyonote/20110502/1304335657">Scientific Linuxの環境構築まとめ - Part1</a></li>
<li><a href="http://d.hatena.ne.jp/koyonote/20110427/1303834054">MySQLの日本語設定まとめ - Mac OS 10.6</a></li>
<li><a href="http://d.hatena.ne.jp/koyonote/20110425/1303742789">Rails3で簡単な検索機能を使う</a></li>
<li><a href="http://d.hatena.ne.jp/koyonote/20110422/1303474235">Rails3で簡単なログイン機能を使う</a></li>
<li><a href="http://d.hatena.ne.jp/koyonote/20110421/1303397681">Rails3でhas_many :throughを使う</a></li>
<li><a href="http://d.hatena.ne.jp/koyonote/20110419/1303182310">入門Gitの簡単メモ</a></li>
<li><a href="http://d.hatena.ne.jp/koyonote/20110418/1303123612">Google日本語入力が便利すぎる件</a></li>
<li><a href="http://d.hatena.ne.jp/koyonote/20110417/1303052148">Rails勉強会@東京第61回に参加しました #railstokyo</a></li>
</ul>
</div>
</div>

	<div class="hatena-module hatena-module-searchform">
<div class="hatena-moduletitle">日記の検索</div>
<div class="hatena-modulebody">
<form method="GET" action="/koyonote/searchdiary" class="hatena-searchform"><input name="word" class="hatena-searchform searchform-word" value="rails3 session get" type="text"><input name=".submit" value="検索" class="hatena-searchform searchform-button" type="submit"><br><label class="searchform-label-detail"><input name="type" value="detail" checked="checked" class="searchform-radio" type="radio">詳細</label> <label class="searchform-label-list"><input name="type" value="list" class="searchform-radio" type="radio">一覧</label></form>

</div>
</div>

        <div style="margin-bottom: 20px;">
        <script src="login_sample_source_files/widget.js"></script>
<script>
new TWTR.Widget({
  version: 2,
  type: 'profile',
  rpp: 4,
  interval: 6000,
  width: 220,
  height: 300,
  theme: {
    shell: {
      background: '#333333',
      color: '#ffffff'
    },
    tweets: {
      background: '#000000',
      color: '#ffffff',
      links: '#4aed05'
    }
  },
  features: {
    scrollbar: false,
    loop: false,
    live: false,
    hashtags: true,
    timestamp: true,
    avatars: false,
    behavior: 'all'
  }
}).render().setUser('koyonote').start();
</script><div class="twtr-widget twtr-widget-profile" id="twtr-widget-1"><div class="twtr-doc" style="width: 220px;">
            <div class="twtr-hd"><a target="_blank" href="http://twitter.com/intent/user?screen_name=koyonote" class="twtr-profile-img-anchor"><img alt="profile" class="twtr-profile-img" src="login_sample_source_files/favicon2_normal.jpg"></a>
                      <h3>koyonote</h3>
                      <h4><a target="_blank" href="http://twitter.com/intent/user?screen_name=koyonote">koyonote</a></h4> 
            </div>
            <div class="twtr-bd">
              <div class="twtr-timeline" style="height: auto;">
                <div class="twtr-tweets">
                  <div class="twtr-reference-tweet"></div><div class="twtr-tweet" id="tweet-id-4"><div class="twtr-tweet-wrap"> 
        <div class="twtr-avatar"> 
          <div class="twtr-img"><a target="_blank" href="http://twitter.com/intent/user?screen_name=koyonote"><img alt="koyonote profile" src="login_sample_source_files/favicon2_normal.jpg"></a></div> 
        </div> 
        <div class="twtr-tweet-text"> 
          <p> 
            <a target="_blank" href="http://twitter.com/intent/user?screen_name=koyonote" class="twtr-user">koyonote</a> 【ブログ更新】Scientific Linuxの環境構築まとめ - レビュー編
<a class="twtr-hyperlink" target="_blank" href="http://d.hatena.ne.jp/koyonote/20110504/1304435193">http://d.hatena.ne.jp/ko...</a> 
            <em>
            <a target="_blank" class="twtr-timestamp" time="Tue May 03 15:13:39 +0000 2011" href="http://twitter.com/koyonote/status/65433847608770561">11 hours ago</a> &#183;
            <a target="_blank" class="twtr-reply" href="http://twitter.com/intent/tweet?in_reply_to=65433847608770561">reply</a> &#183; 
            <a target="_blank" class="twtr-rt" href="http://twitter.com/intent/retweet?tweet_id=65433847608770561">retweet</a> &#183; 
            <a target="_blank" class="twtr-fav" href="http://twitter.com/intent/favorite?tweet_id=65433847608770561">favorite</a> 
            </em>  
          </p> 
        </div> 
      </div></div><div class="twtr-tweet" id="tweet-id-3"><div class="twtr-tweet-wrap"> 
        <div class="twtr-avatar"> 
          <div class="twtr-img"><a target="_blank" href="http://twitter.com/intent/user?screen_name=koyonote"><img alt="koyonote profile" src="login_sample_source_files/favicon2_normal.jpg"></a></div> 
        </div> 
        <div class="twtr-tweet-text"> 
          <p> 
            <a target="_blank" href="http://twitter.com/intent/user?screen_name=koyonote" class="twtr-user">koyonote</a> 【RVMをアップデートする】$ rvm get head 
            <em>
            <a target="_blank" class="twtr-timestamp" time="Tue May 03 15:03:50 +0000 2011" href="http://twitter.com/koyonote/status/65431376433922048">12 hours ago</a> &#183;
            <a target="_blank" class="twtr-reply" href="http://twitter.com/intent/tweet?in_reply_to=65431376433922048">reply</a> &#183; 
            <a target="_blank" class="twtr-rt" href="http://twitter.com/intent/retweet?tweet_id=65431376433922048">retweet</a> &#183; 
            <a target="_blank" class="twtr-fav" href="http://twitter.com/intent/favorite?tweet_id=65431376433922048">favorite</a> 
            </em>  
          </p> 
        </div> 
      </div></div><div class="twtr-tweet" id="tweet-id-2"><div class="twtr-tweet-wrap"> 
        <div class="twtr-avatar"> 
          <div class="twtr-img"><a target="_blank" href="http://twitter.com/intent/user?screen_name=koyonote"><img alt="koyonote profile" src="login_sample_source_files/favicon2_normal.jpg"></a></div> 
        </div> 
        <div class="twtr-tweet-text"> 
          <p> 
            <a target="_blank" href="http://twitter.com/intent/user?screen_name=koyonote" class="twtr-user">koyonote</a> パッケージ管理システム - Wikipedia <a class="twtr-hyperlink" target="_blank" href="http://htn.to/MWiC18">http://htn.to/MWiC18</a> 
            <em>
            <a target="_blank" class="twtr-timestamp" time="Tue May 03 14:09:55 +0000 2011" href="http://twitter.com/koyonote/status/65417809525612544">12 hours ago</a> &#183;
            <a target="_blank" class="twtr-reply" href="http://twitter.com/intent/tweet?in_reply_to=65417809525612544">reply</a> &#183; 
            <a target="_blank" class="twtr-rt" href="http://twitter.com/intent/retweet?tweet_id=65417809525612544">retweet</a> &#183; 
            <a target="_blank" class="twtr-fav" href="http://twitter.com/intent/favorite?tweet_id=65417809525612544">favorite</a> 
            </em>  
          </p> 
        </div> 
      </div></div><div class="twtr-tweet" id="tweet-id-1"><div class="twtr-tweet-wrap"> 
        <div class="twtr-avatar"> 
          <div class="twtr-img"><a target="_blank" href="http://twitter.com/intent/user?screen_name=koyonote"><img alt="koyonote profile" src="login_sample_source_files/favicon2_normal.jpg"></a></div> 
        </div> 
        <div class="twtr-tweet-text"> 
          <p> 
            <a target="_blank" href="http://twitter.com/intent/user?screen_name=koyonote" class="twtr-user">koyonote</a> I'm at スターバックス 学芸大学駅前店 (鷹番3-15-25, 鳥芳ビル, 目黒区) <a class="twtr-hyperlink" target="_blank" href="http://4sq.com/mvcUDE">http://4sq.com/mvcUDE</a> 
            <em>
            <a target="_blank" class="twtr-timestamp" time="Tue May 03 08:37:08 +0000 2011" href="http://twitter.com/koyonote/status/65334060792287232">18 hours ago</a> &#183;
            <a target="_blank" class="twtr-reply" href="http://twitter.com/intent/tweet?in_reply_to=65334060792287232">reply</a> &#183; 
            <a target="_blank" class="twtr-rt" href="http://twitter.com/intent/retweet?tweet_id=65334060792287232">retweet</a> &#183; 
            <a target="_blank" class="twtr-fav" href="http://twitter.com/intent/favorite?tweet_id=65334060792287232">favorite</a> 
            </em>  
          </p> 
        </div> 
      </div></div>
                  <!-- tweets show here -->
                </div>
              </div>
            </div>
            <div class="twtr-ft">
              <div><a target="_blank" href="http://twitter.com/"><img alt="" src="login_sample_source_files/widget-logo.png"></a>
                <span><a target="_blank" class="twtr-join-conv" style="color: rgb(255, 255, 255);" href="http://twitter.com/koyonote">Join the conversation</a></span>
              </div>
            </div>
          </div></div>
        </div>
	        <div class="hatena-module hatena-module-rss">
                <div class="hatena-moduletitle"><a href="http://b.hatena.ne.jp/koyonote/">koyonote のブックマーク</a></div>
                <div class="hatena-modulebody">
                        <ul class="hatena-rss">
                                <li><a href="http://ja.wikipedia.org/wiki/%E3%83%91%E3%83%83%E3%82%B1%E3%83%BC%E3%82%B8%E7%AE%A1%E7%90%86%E3%82%B7%E3%82%B9%E3%83%86%E3%83%A0" title="">パッケージ管理システム - Wikipedia</a></li>
                                <li><a href="http://thinkit.co.jp/story/2011/03/23/2060" title="">第3回 クラウドプラットフォーム「Heroku」の活用 | Think IT</a></li>
                                <li><a href="http://veadardiary.blog29.fc2.com/blog-entry-3052.html" title="">MacBook Airを購入して環境を晒している人たちに嫉妬したのでまとめてみた | Macの手書き説明書</a></li>
                                <li><a href="http://b.hatena.ne.jp/ranking" title="">はてなブックマーク - 週間ランキング</a></li>
                                <li><a href="http://nabe.blog.abk.nu/0485#tm1303756959" title="">これぐらいやっとけ　〜Linuxサーバのセキュリティ設定〜 - nabeの雑記帳</a></li>
                        </ul>
                </div>
        </div>

	<div class="hatena-module">
	<div class="hatena-moduletitle">リンク集</div>
	<div class="hatena-modulebody">
	<ul class="hatena-urllist">
	<li><a href="http://d.hatena.ne.jp/deeeki/">130単位</a></li>
	<li><a href="http://railsapi.com/doc/rails-v3.0.7_ruby-v1.9.2/">Rails v3.0.7, Ruby v1.9.2</a></li>
	</ul>
	</div>
	</div>
	        <div class="hatena-module hatena-module-pv">
                <div class="hatena-moduletitle">ページビュー</div>
                <div class="hatena-modulebody">
                        <span class="hatena-counter">5558</span>
                </div>
        </div>

</div>
</div>






<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(
  ['_setAccount', 'UA-441387-31'],
  ['_trackPageview'],
  ['b._setAccount', 'UA-7855606-1'],
  ['b._setDomainName', '.hatena.ne.jp'],
  ['b._trackPageview']
  ,['c._setAccount', 'UA-22550579-1 '],
  ['c._trackPageview']
  );
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<!-- CG:1,CH:0,ICG:2,ICH:1 -->
<div style="color: rgb(0, 0, 0); position: absolute; display: none; z-index: 10002; left: 0pt; top: 0pt; background-color: rgb(255, 255, 255); border: 0px none; padding: 0px; text-align: center;"><div style="text-align: left; margin: 0pt; padding: 0pt;"></div></div></body></html>