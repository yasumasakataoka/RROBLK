(function(a){a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(e,f){a.fx.step[f]=function(g){if(g.state==0){g.start=d(g.elem,f);g.end=b(g.end)}g.elem.style[f]="rgb("+[Math.max(Math.min(parseInt(g.pos*(g.end[0]-g.start[0])+g.start[0]),255),0),Math.max(Math.min(parseInt(g.pos*(g.end[1]-g.start[1])+g.start[1]),255),0),Math.max(Math.min(parseInt(g.pos*(g.end[2]-g.start[2])+g.start[2]),255),0)].join(",")+")"}});function b(e){var f;
if(e&&e.constructor==Array&&e.length==3)return e;if(f=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(e))return[parseInt(f[1]),parseInt(f[2]),parseInt(f[3])];if(f=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(e))return[parseFloat(f[1])*2.55,parseFloat(f[2])*2.55,parseFloat(f[3])*2.55];if(f=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e))return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)];if(f=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(e))return[parseInt(f[1]+
f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)];return c[a.trim(e).toLowerCase()]}function d(e,f){var g;do{g=a.curCSS(e,f);if(g!=""&&g!="transparent"||a.nodeName(e,"body"))break;f="backgroundColor"}while(e=e.parentNode);return b(g)}var c={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,
107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],
violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);jQuery.cookie=function(a,b,d){if(typeof b!="undefined"){d=d||{};if(b===null){b="";d.expires=-1}var c="";if(d.expires&&(typeof d.expires=="number"||d.expires.toUTCString)){if(typeof d.expires=="number"){c=new Date;c.setTime(c.getTime()+d.expires*24*60*60*1000)}else c=d.expires;c="; expires="+c.toUTCString()}var e=d.path?"; path="+d.path:"",f=d.domain?"; domain="+d.domain:"";d=d.secure?"; secure":"";document.cookie=[a,"=",encodeURIComponent(b),c,e,f,d].join("")}else{b=null;if(document.cookie&&document.cookie!=
""){d=document.cookie.split(";");for(c=0;c<d.length;c++){e=jQuery.trim(d[c]);if(e.substring(0,a.length+1)==a+"="){b=decodeURIComponent(e.substring(a.length+1));break}}}return b}};jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,d,c,e){return jQuery.easing[jQuery.easing.def](a,b,d,c,e)},easeInQuad:function(a,b,d,c,e){return c*(b/=e)*b+d},easeOutQuad:function(a,b,d,c,e){return-c*(b/=e)*(b-2)+d},easeInOutQuad:function(a,b,d,c,e){if((b/=e/2)<1)return c/2*b*b+d;return-c/2*(--b*(b-2)-1)+d},easeInCubic:function(a,b,d,c,e){return c*(b/=e)*b*b+d},easeOutCubic:function(a,b,d,c,e){return c*((b=b/e-1)*b*b+1)+d},easeInOutCubic:function(a,b,d,c,e){if((b/=e/2)<1)return c/
2*b*b*b+d;return c/2*((b-=2)*b*b+2)+d},easeInQuart:function(a,b,d,c,e){return c*(b/=e)*b*b*b+d},easeOutQuart:function(a,b,d,c,e){return-c*((b=b/e-1)*b*b*b-1)+d},easeInOutQuart:function(a,b,d,c,e){if((b/=e/2)<1)return c/2*b*b*b*b+d;return-c/2*((b-=2)*b*b*b-2)+d},easeInQuint:function(a,b,d,c,e){return c*(b/=e)*b*b*b*b+d},easeOutQuint:function(a,b,d,c,e){return c*((b=b/e-1)*b*b*b*b+1)+d},easeInOutQuint:function(a,b,d,c,e){if((b/=e/2)<1)return c/2*b*b*b*b*b+d;return c/2*((b-=2)*b*b*b*b+2)+d},easeInSine:function(a,
b,d,c,e){return-c*Math.cos(b/e*(Math.PI/2))+c+d},easeOutSine:function(a,b,d,c,e){return c*Math.sin(b/e*(Math.PI/2))+d},easeInOutSine:function(a,b,d,c,e){return-c/2*(Math.cos(Math.PI*b/e)-1)+d},easeInExpo:function(a,b,d,c,e){return b==0?d:c*Math.pow(2,10*(b/e-1))+d},easeOutExpo:function(a,b,d,c,e){return b==e?d+c:c*(-Math.pow(2,-10*b/e)+1)+d},easeInOutExpo:function(a,b,d,c,e){if(b==0)return d;if(b==e)return d+c;if((b/=e/2)<1)return c/2*Math.pow(2,10*(b-1))+d;return c/2*(-Math.pow(2,-10*--b)+2)+d},
easeInCirc:function(a,b,d,c,e){return-c*(Math.sqrt(1-(b/=e)*b)-1)+d},easeOutCirc:function(a,b,d,c,e){return c*Math.sqrt(1-(b=b/e-1)*b)+d},easeInOutCirc:function(a,b,d,c,e){if((b/=e/2)<1)return-c/2*(Math.sqrt(1-b*b)-1)+d;return c/2*(Math.sqrt(1-(b-=2)*b)+1)+d},easeInElastic:function(a,b,d,c,e){a=1.70158;var f=0,g=c;if(b==0)return d;if((b/=e)==1)return d+c;f||(f=e*0.3);if(g<Math.abs(c)){g=c;a=f/4}else a=f/(2*Math.PI)*Math.asin(c/g);return-(g*Math.pow(2,10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/f))+d},easeOutElastic:function(a,
b,d,c,e){a=1.70158;var f=0,g=c;if(b==0)return d;if((b/=e)==1)return d+c;f||(f=e*0.3);if(g<Math.abs(c)){g=c;a=f/4}else a=f/(2*Math.PI)*Math.asin(c/g);return g*Math.pow(2,-10*b)*Math.sin((b*e-a)*2*Math.PI/f)+c+d},easeInOutElastic:function(a,b,d,c,e){a=1.70158;var f=0,g=c;if(b==0)return d;if((b/=e/2)==2)return d+c;f||(f=e*0.3*1.5);if(g<Math.abs(c)){g=c;a=f/4}else a=f/(2*Math.PI)*Math.asin(c/g);if(b<1)return-0.5*g*Math.pow(2,10*(b-=1))*Math.sin((b*e-a)*2*Math.PI/f)+d;return g*Math.pow(2,-10*(b-=1))*Math.sin((b*
e-a)*2*Math.PI/f)*0.5+c+d},easeInBack:function(a,b,d,c,e,f){if(f==undefined)f=1.70158;return c*(b/=e)*b*((f+1)*b-f)+d},easeOutBack:function(a,b,d,c,e,f){if(f==undefined)f=1.70158;return c*((b=b/e-1)*b*((f+1)*b+f)+1)+d},easeInOutBack:function(a,b,d,c,e,f){if(f==undefined)f=1.70158;if((b/=e/2)<1)return c/2*b*b*(((f*=1.525)+1)*b-f)+d;return c/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+d},easeInBounce:function(a,b,d,c,e){return c-jQuery.easing.easeOutBounce(a,e-b,0,c,e)+d},easeOutBounce:function(a,b,d,c,e){return(b/=
e)<1/2.75?c*7.5625*b*b+d:b<2/2.75?c*(7.5625*(b-=1.5/2.75)*b+0.75)+d:b<2.5/2.75?c*(7.5625*(b-=2.25/2.75)*b+0.9375)+d:c*(7.5625*(b-=2.625/2.75)*b+0.984375)+d},easeInOutBounce:function(a,b,d,c,e){if(b<e/2)return jQuery.easing.easeInBounce(a,b*2,0,c,e)*0.5+d;return jQuery.easing.easeOutBounce(a,b*2-e,0,c,e)*0.5+c*0.5+d}});(function(a){a.fn.enhancedField=function(b){a.extend({},a.fn.enhancedField.defaults,b);var d="placeholder"in document.createElement("input");return this.each(function(){var c=a(this);d||c.addClass("notnative");c.bind("blur keyup",function(){a(this).val()==""?a(this).addClass("placeholder"):a(this).removeClass("placeholder")}).blur();c.focus(function(){a(this).removeClass("placeholder")})})};a.fn.enhancedField.defaults={}})(jQuery);(function(a){a.facebox=function(h,j){a.facebox.loading();if(h.ajax)i(h.ajax,j);else if(h.image)g(h.image,j);else if(h.div)f(h.div,j);else a.isFunction(h)?h.call(a):a.facebox.reveal(h,j)};a.extend(a.facebox,{settings:{opacity:0.2,overlay:true,loadingImage:"/facebox/loading.gif",closeImage:"/facebox/closelabel.png",imageTypes:["png","jpg","jpeg","gif"],faceboxHtml:'    <div id="facebox" style="display:none;">       <div class="popup">         <div class="content">         </div>         <a href="#" class="close"></a>       </div>     </div>'},
loading:function(){b();if(a("#facebox .loading").length==1)return true;m();a("#facebox .content").empty().append('<div class="loading"><img src="'+a.facebox.settings.loadingImage+'"/></div>');a("#facebox").show().css({top:d()[1]+c()/10,left:a(window).width()/2-a("#facebox .popup").outerWidth()/2});a(document).bind("keydown.facebox",function(h){h.keyCode==27&&a.facebox.close();return true});a(document).trigger("loading.facebox")},reveal:function(h,j){a(document).trigger("beforeReveal.facebox");j&&
a("#facebox .content").addClass(j);a("#facebox .content").append(h);a("#facebox .loading").remove();a("#facebox .popup").children().fadeIn("normal");a("#facebox").css("left",a(window).width()/2-a("#facebox .popup").outerWidth()/2);a(document).trigger("reveal.facebox").trigger("afterReveal.facebox")},close:function(){a(document).trigger("close.facebox");return false}});a.fn.facebox=function(h){if(a(this).length!=0){function j(){a.facebox.loading(true);var l=this.rel.match(/facebox\[?\.(\w+)\]?/);if(l)l=
l[1];f(this.href,l);return false}b(h);return this.bind("click.facebox",j)}};function b(h){if(a.facebox.settings.inited)return true;else a.facebox.settings.inited=true;a(document).trigger("init.facebox");e();var j=a.facebox.settings.imageTypes.join("|");a.facebox.settings.imageTypesRegexp=new RegExp(".("+j+")$","i");h&&a.extend(a.facebox.settings,h);a("body").append(a.facebox.settings.faceboxHtml);var l=[new Image,new Image];l[0].src=a.facebox.settings.closeImage;l[1].src=a.facebox.settings.loadingImage;
a("#facebox").find(".b:first, .bl").each(function(){l.push(new Image);l.slice(-1).src=a(this).css("background-image").replace(/url\((.+)\)/,"$1")});a("#facebox .close").click(a.facebox.close).append('<img src="'+a.facebox.settings.closeImage+'" class="close_image" title="close">')}function d(){var h,j;if(self.pageYOffset){j=self.pageYOffset;h=self.pageXOffset}else if(document.documentElement&&document.documentElement.scrollTop){j=document.documentElement.scrollTop;h=document.documentElement.scrollLeft}else if(document.body){j=
document.body.scrollTop;h=document.body.scrollLeft}return new Array(h,j)}function c(){var h;if(self.innerHeight)h=self.innerHeight;else if(document.documentElement&&document.documentElement.clientHeight)h=document.documentElement.clientHeight;else if(document.body)h=document.body.clientHeight;return h}function e(){var h=a.facebox.settings;h.loadingImage=h.loading_image||h.loadingImage;h.closeImage=h.close_image||h.closeImage;h.imageTypes=h.image_types||h.imageTypes;h.faceboxHtml=h.facebox_html||h.faceboxHtml}
function f(h,j){if(h.match(/#/)){var l=window.location.href.split("#")[0];h=h.replace(l,"");h!="#"&&a.facebox.reveal(a(h).html(),j)}else h.match(a.facebox.settings.imageTypesRegexp)?g(h,j):i(h,j)}function g(h,j){var l=new Image;l.onload=function(){a.facebox.reveal('<div class="image"><img src="'+l.src+'" /></div>',j)};l.src=h}function i(h,j){a.get(h,function(l){a.facebox.reveal(l,j)})}function k(){return a.facebox.settings.overlay==false||a.facebox.settings.opacity===null}function m(){if(!k()){a("#facebox_overlay").length==
0&&a("body").append('<div id="facebox_overlay" class="facebox_hide"></div>');a("#facebox_overlay").hide().addClass("facebox_overlayBG").css("opacity",a.facebox.settings.opacity).click(function(){a(document).trigger("close.facebox")}).fadeIn(200);return false}}function o(){if(!k()){a("#facebox_overlay").fadeOut(200,function(){a("#facebox_overlay").removeClass("facebox_overlayBG");a("#facebox_overlay").addClass("facebox_hide");a("#facebox_overlay").remove()});return false}}a(document).bind("close.facebox",
function(){a(document).unbind("keydown.facebox");a("#facebox").fadeOut(function(){a("#facebox .content").removeClass().addClass("content");a("#facebox .loading").remove();a(document).trigger("afterClose.facebox")});o()})})(jQuery);(function(a){a.fn.ajaxSubmit=function(c){if(typeof c=="function")c={success:c};c=a.extend({url:this.attr("action")||window.location.toString(),type:this.attr("method")||"GET"},c||{});var e={};a.event.trigger("form.pre.serialize",[this,c,e]);if(e.veto)return this;var f=this.formToArray(c.semantic);if(c.data)for(var g in c.data)f.push({name:g,value:c.data[g]});if(c.beforeSubmit&&c.beforeSubmit(f,this,c)===false)return this;a.event.trigger("form.submit.validate",[f,this,c,e]);if(e.veto)return this;e=
a.param(f);if(c.type.toUpperCase()=="GET"){c.url+=(c.url.indexOf("?")>=0?"&":"?")+e;c.data=null}else c.data=e;var i=this,k=[];c.resetForm&&k.push(function(){i.resetForm()});c.clearForm&&k.push(function(){i.clearForm()});if(!c.dataType&&c.target){var m=c.success||function(){};k.push(function(h){this.evalScripts?a(c.target).attr("innerHTML",h).evalScripts().each(m,arguments):a(c.target).html(h).each(m,arguments)})}else c.success&&k.push(c.success);c.success=function(h,j){for(var l=0,s=k.length;l<s;l++)k[l](h,
j,i)};e=a("input:file",this).fieldValue();f=false;for(g=0;g<e.length;g++)if(e[g])f=true;if(c.iframe||f)a.browser.safari&&c.closeKeepAlive?a.get(c.closeKeepAlive,o):o();else a.ajax(c);a.event.trigger("form.submit.notify",[this,c]);return this;function o(){var h=i[0],j=a.extend({},a.ajaxSettings,c),l="jqFormIO"+a.fn.ajaxSubmit.counter++,s=a('<iframe id="'+l+'" name="'+l+'" />'),p=s[0],y=a.browser.opera&&window.opera.version()<9;if(a.browser.msie||y)p.src='javascript:false;document.write("");';s.css({position:"absolute",
top:"-1000px",left:"-1000px"});var q={responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){}},u=j.global;u&&!a.active++&&a.event.trigger("ajaxStart");u&&a.event.trigger("ajaxSend",[q,j]);var z=0,w=0;setTimeout(function(){var t=h.encoding?"encoding":"enctype",n=i.attr("target"),r=i.attr("action");i.attr({target:l,method:"POST",action:j.url});h[t]="multipart/form-data";j.timeout&&setTimeout(function(){w=
true;v()},j.timeout);s.appendTo("body");p.attachEvent?p.attachEvent("onload",v):p.addEventListener("load",v,false);h.submit();i.attr({action:r,target:n})},10);function v(){if(!z++){p.detachEvent?p.detachEvent("onload",v):p.removeEventListener("load",v,false);var t=true;try{if(w)throw"timeout";var n,r;r=p.contentWindow?p.contentWindow.document:p.contentDocument?p.contentDocument:p.document;q.responseText=r.body?r.body.innerHTML:null;q.responseXML=r.XMLDocument?r.XMLDocument:r;if(j.dataType=="json"||
j.dataType=="script"){var x=r.getElementsByTagName("textarea")[0];n=x?x.value:q.responseText;j.dataType=="json"?eval("data = "+n):a.globalEval(n)}else if(j.dataType=="xml"){n=q.responseXML;if(!n&&q.responseText!=null)n=A(q.responseText)}else n=q.responseText}catch(B){t=false;a.handleError(j,q,"error",B)}if(t){j.success(n,"success");u&&a.event.trigger("ajaxSuccess",[q,j])}u&&a.event.trigger("ajaxComplete",[q,j]);u&&!--a.active&&a.event.trigger("ajaxStop");if(j.complete)j.complete(q,t?"success":"error");
setTimeout(function(){s.remove();q.responseXML=null},100)}}function A(t,n){if(window.ActiveXObject){n=new ActiveXObject("Microsoft.XMLDOM");n.async="false";n.loadXML(t)}else n=(new DOMParser).parseFromString(t,"text/xml");return n&&n.documentElement&&n.documentElement.tagName!="parsererror"?n:null}}};a.fn.ajaxSubmit.counter=0;a.fn.ajaxForm=function(c){return this.ajaxFormUnbind().submit(d).each(function(){this.formPluginId=a.fn.ajaxForm.counter++;a.fn.ajaxForm.optionHash[this.formPluginId]=c;a(":submit,input:image",
this).click(b)})};a.fn.ajaxForm.counter=1;a.fn.ajaxForm.optionHash={};function b(c){var e=this.form;e.clk=this;if(this.type=="image")if(c.offsetX!=undefined){e.clk_x=c.offsetX;e.clk_y=c.offsetY}else if(typeof a.fn.offset=="function"){var f=a(this).offset();e.clk_x=c.pageX-f.left;e.clk_y=c.pageY-f.top}else{e.clk_x=c.pageX-this.offsetLeft;e.clk_y=c.pageY-this.offsetTop}setTimeout(function(){e.clk=e.clk_x=e.clk_y=null},10)}function d(){var c=this.formPluginId;c=a.fn.ajaxForm.optionHash[c];a(this).ajaxSubmit(c);
return false}a.fn.ajaxFormUnbind=function(){this.unbind("submit",d);return this.each(function(){a(":submit,input:image",this).unbind("click",b)})};a.fn.formToArray=function(c){var e=[];if(this.length==0)return e;var f=this[0],g=c?f.getElementsByTagName("*"):f.elements;if(!g)return e;for(var i=0,k=g.length;i<k;i++){var m=g[i],o=m.name;if(o)if(c&&f.clk&&m.type=="image")!m.disabled&&f.clk==m&&e.push({name:o+".x",value:f.clk_x},{name:o+".y",value:f.clk_y});else if((m=a.fieldValue(m,true))&&m.constructor==
Array)for(var h=0,j=m.length;h<j;h++)e.push({name:o,value:m[h]});else m!==null&&typeof m!="undefined"&&e.push({name:o,value:m})}if(!c&&f.clk){c=f.getElementsByTagName("input");i=0;for(k=c.length;i<k;i++){g=c[i];(o=g.name)&&!g.disabled&&g.type=="image"&&f.clk==g&&e.push({name:o+".x",value:f.clk_x},{name:o+".y",value:f.clk_y})}}return e};a.fn.formSerialize=function(c){return a.param(this.formToArray(c))};a.fn.fieldSerialize=function(c){var e=[];this.each(function(){var f=this.name;if(f){var g=a.fieldValue(this,
c);if(g&&g.constructor==Array)for(var i=0,k=g.length;i<k;i++)e.push({name:f,value:g[i]});else g!==null&&typeof g!="undefined"&&e.push({name:this.name,value:g})}});return a.param(e)};a.fn.fieldValue=function(c){for(var e=[],f=0,g=this.length;f<g;f++){var i=this[f];i=a.fieldValue(i,c);i===null||typeof i=="undefined"||i.constructor==Array&&!i.length||(i.constructor==Array?a.merge(e,i):e.push(i))}return e};a.fieldValue=function(c,e){var f=c.name,g=c.type,i=c.tagName.toLowerCase();if(typeof e=="undefined")e=
true;if(e&&(!f||c.disabled||g=="reset"||g=="button"||(g=="checkbox"||g=="radio")&&!c.checked||(g=="submit"||g=="image")&&c.form&&c.form.clk!=c||i=="select"&&c.selectedIndex==-1))return null;if(i=="select"){i=c.selectedIndex;if(i<0)return null;e=[];c=c.options;f=(g=g=="select-one")?i+1:c.length;for(i=g?i:0;i<f;i++){var k=c[i];if(k.selected){k=a.browser.msie&&!k.attributes.value.specified?k.text:k.value;if(g)return k;e.push(k)}}return e}return c.value};a.fn.clearForm=function(){return this.each(function(){a("input,select,textarea",
this).clearFields()})};a.fn.clearFields=a.fn.clearInputs=function(){return this.each(function(){var c=this.type,e=this.tagName.toLowerCase();if(c=="text"||c=="password"||e=="textarea")this.value="";else if(c=="checkbox"||c=="radio")this.checked=false;else if(e=="select")this.selectedIndex=-1})};a.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)this.reset()})};a.fn.enable=function(c){if(c==undefined)c=true;return this.each(function(){this.disabled=
!c})};a.fn.select=function(c){if(c==undefined)c=true;return this.each(function(){var e=this.type;if(e=="checkbox"||e=="radio")this.checked=c;else if(this.tagName.toLowerCase()=="option"){e=a(this).parent("select");c&&e[0]&&e[0].type=="select-one"&&e.find("option").select(false);this.selected=c}})}})(jQuery);(function(a){a(".comment .edit-button").live("click",function(){var b=a(this).closest(".comment");b.addClass("editing");b.find(".js-autosize").trigger("resize.dynSiz");return false});a(".comment .delete-button").live("click",function(){var b=a(this).closest(".comment"),d=a(this).closest(".js-comment-container");d.length||(d=b);if(confirm("Are you sure you want to delete this?")){b.addClass("loading");b.find("button").attr("disabled",true);b.find(".minibutton").addClass("disabled");a.ajax({type:"DELETE",
url:b.find(".form-content form").attr("action"),complete:function(){b.removeClass("loading");b.find("button").removeAttr("disabled");b.find(".minibutton").removeClass("disabled")},success:function(){d.fadeOut(function(){b.removeClass("editing")})},error:function(){b.addClass("error")}})}return false});a(".comment .cancel").live("click",function(){a(this).closest(".comment").removeClass("editing");return false});a(".comment .form-content form").live("submit",function(){var b=a(this).closest(".comment");
b.addClass("loading");b.find("button").attr("disabled",true);b.find(".minibutton").addClass("disabled");a.ajax({type:"PUT",url:b.find(".form-content form").attr("action"),dataType:"json",data:a(this).serialize(),complete:function(){b.removeClass("loading");b.find("button").removeAttr("disabled");b.find(".minibutton").removeClass("disabled")},success:function(d){d.title&&b.find(".content-title").html(d.title);b.find(".formatted-content .content-body").html(d.body);b.removeClass("editing")},error:function(){b.addClass("error")}});
return false})})(jQuery);(function(a){a.fn.previewableCommentForm=function(b){var d=a.extend({},a.fn.previewableCommentForm.defaults,b);return this.each(function(){var c=a(this);if(!c.hasClass("previewable-comment-form-attached")){c.addClass("previewable-comment-form-attached");var e=c.find("textarea"),f=c.find(".content-body"),g=c.prev(".comment-form-error"),i=c.find(".form-actions button"),k=e.val(),m=c.attr("data-repository"),o=false,h=null,j=a.merge(c.find(".preview-dirty"),e);j.blur(function(){if(k!=e.val()){o=true;
k=e.val()}l()});var l=function(){if(o)if(a.trim(k)=="")f.html("<p>Nothing to preview</p>");else{f.html("<p>Loading preview&hellip;</p>");h&&h.abort();var s=a.extend({text:k,repository:m},d.previewOptions);h=a.post(d.previewUrl,s,function(p){f.html(p);d.onSuccess.call(f)})}};a.trim(k)==""&&f.html("<p>Nothing to preview</p>");g.length>0&&c.closest("form").submit(function(){g.hide();if(a.trim(e.val())==""){g.show();return false}i.attr("disabled","disabled")})}})};a.fn.previewableCommentForm.defaults=
{previewUrl:"/preview",previewOptions:{},onSuccess:function(){}}})(jQuery);(function(a){function b(e){return a.hotkeys.special[e]==null?e.charCodeAt(0):a.hotkeys.special[e]}a.hotkeys=function(e){for(key in e)a.hotkey(key,e[key]);return this};a.hotkey=function(e,f){a.hotkeys.cache[b(e)]=f;return this};function d(e,f){if(!(e.ctrlKey||e.altKey||e.metaKey)){var g=e.shiftKey?e.keyCode:e.keyCode+32;if(f=f[g])if(a.isFunction(f)){e=f.call(this,e);return this==document?false:e}else{window.location=f;return false}}}a.fn.hotkeys=function(e){var f={};for(key in e)f[b(key)]=e[key];return this.bind("keydown.hotkey",
function(g){return d.call(this,g,f)})};a.hotkeys.cache={};a.hotkeys.special={enter:45,esc:59,"?":191,"/":223,"\\":252,"`":224,up:70,down:72};if(a.browser.mozilla)a.hotkeys.special["?"]=0;a(document).bind("keydown.hotkey",function(e){if(!a(e.target).is(":input"))return d.call(this,e,a.hotkeys.cache)});a(function(){a("a[hotkey]").each(function(){a.hotkey(a(this).attr("hotkey"),a(this).attr("href"))})});var c;a("#facebox").live("focus",function(e){c=e.target}).live("blur",function(){c=null});a(document).bind("close.facebox",
function(){if(c)try{c.blur()}catch(e){}})})(jQuery);(function(a){a.keys={escape:27,tab:9,space:32,enter:13,backspace:8,scroll:145,capslock:20,numlock:144,pause:19,insert:45,home:36,del:46,end:35,pageup:33,pagedown:34,left:37,up:38,right:39,down:40,"-":109,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,"/":191}})(jQuery);(function(a){a.fn.relatizeDate=function(){return a(this).each(function(){a(this).hasClass("relatized")||a(this).text(a.relatizeDate(this)).addClass("relatized")})};a.relatizeDate=function(b){b=a(b).text();var d=new Date(b);if(isNaN(d)){d=/(\d\d:\d\d:\d\d [+-]\d{4}) (\d{4})$/;d=new Date(b.replace(d,"$2 $1"));if(isNaN(d))return b}return a.relatizeDate.timeAgoInWords(d)};$r=a.relatizeDate;a.extend(a.relatizeDate,{shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday",
"Wednesday","Thursday","Friday","Saturday"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],strftime:function(b,d){var c=b.getDay(),e=b.getMonth(),f=b.getHours(),g=b.getMinutes();function i(k){k=k.toString(10);return(new Array(2-k.length+1)).join("0")+k}return d.replace(/\%([aAbBcdHImMpSwyY])/g,function(k){switch(k.substr(1,1)){case "a":return $r.shortDays[c];
case "A":return $r.days[c];case "b":return $r.shortMonths[e];case "B":return $r.months[e];case "c":return b.toString();case "d":return i(b.getDate());case "H":return i(f);case "I":return i((f+12)%12);case "m":return i(e+1);case "M":return i(g);case "p":return f>12?"PM":"AM";case "S":return i(b.getSeconds());case "w":return c;case "y":return i(b.getFullYear()%100);case "Y":return b.getFullYear().toString()}})},timeAgoInWords:function(b,d){return $r.distanceOfTimeInWords(b,new Date,d)},distanceOfTimeInWords:function(b,
d,c){d=parseInt((d.getTime()-b.getTime())/1000);if(d<60)return"just now";else if(d<120)return"about a minute ago";else if(d<2700)return parseInt(d/60).toString()+" minutes ago";else if(d<7200)return"about an hour ago";else if(d<86400)return"about "+parseInt(d/3600).toString()+" hours ago";else if(d<172800)return"1 day ago";else{d=parseInt(d/86400).toString();if(d>5){d="%B %d, %Y";if(c)d+=" %I:%M %p";return $r.strftime(b,d)}else return d+" days ago"}}})})(jQuery);(function(a){a.put=function(b,d,c,e){var f=null;if(jQuery.isFunction(d)){c=d;d={}}if(jQuery.isPlainObject(c)){f=c.error;c=c.success}return jQuery.ajax({type:"PUT",url:b,data:d,success:c,error:f,dataType:e})};a.del=function(b,d,c,e){var f=null;if(jQuery.isFunction(d)){c=d;d={}}if(jQuery.isPlainObject(c)){f=c.error;c=c.success}return jQuery.ajax({type:"DELETE",url:b,data:d,success:c,error:f,dataType:e})}})(jQuery);jQuery.fn.tabs=function(){function a(d){return/#([a-z][\w.:-]*)$/i.exec(d)[1]}var b=window.location.hash.substr(1);return this.each(function(){var d=null,c=null;$(this).find("li a").each(function(){var e=$("#"+a(this.href));if(e!=[]){e.hide();$(this).click(function(){var f=$(this);function g(){c&&c.hide();d&&d.removeClass("selected");d=f.addClass("selected");c=e.show().trigger("tabChanged",{link:d})}if(f.attr("ajax")){f.addClass("loading");$.ajax({url:f.attr("ajax"),success:function(i){e.html(i);
f.removeClass("loading");f[0].removeAttribute("ajax");g()},failure:function(){alert("An error occured, please reload the page")}})}else g();return false});$(this).hasClass("selected")&&$(this).click()}});$(this).find("li a[href='#"+b+"']").click();c==null&&$($(this).find("li a")[0]).click()})};(function(a){try{window.document.createEvent("TouchEvent")}catch(b){return false}var d={},c;function e(f){return"tagName"in f?f:f.parentNode}a(document).ready(function(){a(document.body).bind("touchstart",function(f){var g=Date.now(),i=g-(d.last||g);d.target=e(f.originalEvent.touches[0].target);c&&clearTimeout(c);d.x1=f.originalEvent.touches[0].pageX;if(i>0&&i<=250)d.isDoubleTap=true;d.last=g}).bind("touchmove",function(f){d.x2=f.originalEvent.touches[0].pageX}).bind("touchend",function(){if(d.isDoubleTap){a(d.target).trigger("doubleTap");
d={}}else if(d.x2>0){Math.abs(d.x1-d.x2)>30&&a(d.target).trigger("swipe")&&a(d.target).trigger("swipe"+(d.x1-d.x2>0?"Left":"Right"));d.x1=d.x2=d.last=0}else if("last"in d)c=setTimeout(function(){c=null;a(d.target).trigger("tap");d={}},250)}).bind("touchcancel",function(){d={}})});["swipe","swipeLeft","swipeRight","doubleTap","tap"].forEach(function(f){a.fn[f]=function(g){return this.bind(f,g)}})})(jQuery);$(function(){var a=false,b=false,d=false;function c(){if(!d)if(a&&b){d=true;$(document.body).addClass("usingMouse")}}$(document).mousemove(function(){a=true;c()});$(document).mousedown(function(){b=true;c()});$("button.classy, a.button.classy").mousedown(function(){$(this).addClass("mousedown")}).bind("mouseup mouseleave",function(){$(this).removeClass("mousedown")})});
$.extend($.facebox.settings,{loadingImage:(GitHub.assetHost||"")+"/images/modules/facebox/loading.gif",closeImage:(GitHub.assetHost||"")+"/images/modules/facebox/closelabel.png"});Date._isoRegexp=/(\d{4,})(?:-(\d{1,2})(?:-(\d{1,2})(?:[T ](\d{1,2}):(\d{1,2})(?::(\d{1,2})(?:\.(\d+))?)?(?:(Z)|([+-])(\d{1,2})(?::(\d{1,2}))?)?)?)?)?/;
Date.parseISO8601=function(a){a+="";if(typeof a!="string"||a.length===0)return null;a=a.match(Date._isoRegexp);if(typeof a=="undefined"||a===null)return null;var b,d,c,e,f,g,i;b=parseInt(a[1],10);if(typeof a[2]=="undefined"||a[2]==="")return new Date(b);d=parseInt(a[2],10)-1;c=parseInt(a[3],10);if(typeof a[4]=="undefined"||a[4]==="")return new Date(b,d,c);e=parseInt(a[4],10);f=parseInt(a[5],10);g=typeof a[6]!="undefined"&&a[6]!==""?parseInt(a[6],10):0;i=typeof a[7]!="undefined"&&a[7]!==""?Math.round(1000*
parseFloat("0."+a[7])):0;if((typeof a[8]=="undefined"||a[8]==="")&&(typeof a[9]=="undefined"||a[9]===""))return new Date(b,d,c,e,f,g,i);var k;if(typeof a[9]!="undefined"&&a[9]!==""){k=parseInt(a[10],10)*3600000;if(typeof a[11]!="undefined"&&a[11]!=="")k+=parseInt(a[11],10)*60000;if(a[9]=="-")k=-k}else k=0;return new Date(Date.UTC(b,d,c,e,f,g,i)-k)};$(function(){var a=$(".github-jobs-promotion");if(a.get(0)!=null){a.css({visibility:"hidden"});window.jobsWidgetCallback=function(b){var d=Math.floor(Math.random()*b.jobs.length);b=b.jobs[d];a.find(".job-link").attr("href",b.url);a.find(".job-company").text(b.company);a.find(".job-position").text(b.position);a.find(".job-location").text(b.location);a.css({visibility:"visible"})};$.getScript(a.attr("url"))}});$(function(){var a=$.cookie("tracker"),b=null;if(a==null)b=document.referrer?document.referrer:"direct";a=getParams();if(a.utm_campaign&&$.trim(a.utm_campaign)!="")b=a.utm_campaign;if(a.referral_code&&$.trim(a.referral_code)!="")b=a.referral_code;b!=null&&$.cookie("tracker",b,{expires:7,path:"/"})});
function getParams(a,b){if(arguments.length<2)b=location.href;if(arguments.length>0&&a!=""){var d=a=="#"?/[#]([^$]*)/:a=="?"?/[?]([^#$]*)/:new RegExp("[?&]"+a+"=([^&#]*)"),c=d.exec(b);return c==null?"":c[1]}else{b=b.split("?");c={};if(b.length>1){b=b[1].split("#");if(b.length>1)c.hash=b[1];$.each(b[0].split("&"),function(e,f){f=f.split("=");c[f[0]]=f[1]})}return c}};
