truncate table FOBJECTS;

INSERT INTO FOBJECTS(ID,OBJECTTYPE,CODE,FIELDLENGTH,DATAPRESION,
            DATASCALE ,PERSONS_ID_UPD,Expiredate)

SELECT FObjects_seq.NEXTVAL,DATA_TYPE, COLUMN_NAME,
DATA_LENGTH, DATA_PRECISION, DATA_SCALE ,1,'2099/12/31'
FROM (SELECT DATA_TYPE, COLUMN_NAME ,
      MAX(DATA_LENGTH) DATA_LENGTH,MAX(DATA_PRECISION) DATA_PRECISION,MAX(DATA_SCALE) DATA_SCALE
      FROM USER_TAB_COLUMNS
      where data_type is not null AND TABLE_NAME NOT LIKE 'BIN%' 
      AND TABLE_NAME NOT LIKE 'R_%' AND TABLE_NAME NOT LIKE 'SIO_%' AND TABLE_NAME NOT LIKE '%_TBLS'
      GROUP BY DATA_TYPE, COLUMN_NAME ) A
WHERE NOT EXISTS (SELECT 1 FROM FOBJECTS B WHERE B.CODE = A.COLUMN_NAME)
;

TRUNCATE TABLE FOBJGRPS
;
INSERT INTO FOBJGRPS
(ID,FOBJECTS_ID,USERGROUPS_ID,NAME,REMARK,PERSONS_ID_UPD,Expiredate)
SELECT  POBJGRPS_seq.NEXTVAL,ID,1,CODE,CODE,1,'2099/12/31' FROM FOBJECTS
;
UPDATE  FOBJGRPS SET NAME = '名前' WHere name = 'NAME'
;
UPDATE  FOBJGRPS SET NAME = 'コード' WHere name = 'CODE'
;


SELECT * FROM  FOBJGRPS



